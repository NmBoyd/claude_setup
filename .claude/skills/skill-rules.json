{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)"
                ]
            }
        },
        "python-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Python development patterns and best practices",
            "promptTriggers": {
                "keywords": [
                    "python",
                    "pytest",
                    "pip",
                    "poetry",
                    "pyproject.toml",
                    "virtualenv",
                    "venv",
                    "conda",
                    "type hints",
                    "mypy",
                    "pydantic",
                    "dataclass",
                    "async python",
                    "asyncio",
                    "python class",
                    "python function",
                    "python module",
                    "python style",
                    "pep8",
                    "pep 8",
                    "ruff",
                    "black",
                    "flake8",
                    "pylint",
                    "python typing",
                    "python protocol",
                    "python abc",
                    "python abstract",
                    "python decorator",
                    "python context manager",
                    "python generator",
                    "python iterator",
                    "python logging",
                    "python exception",
                    "python error handling",
                    "python docstring",
                    "python import",
                    "python package",
                    "__init__.py"
                ],
                "intentPatterns": [
                    "(create|add|implement|build|write).*?python",
                    "(create|add|implement).*?(class|function|module).*?\\.py",
                    "(how to|best practice).*?python",
                    "(test|pytest).*?python",
                    "(type|typing).*?python",
                    "(format|lint|style).*?python",
                    "(async|await|coroutine).*?python",
                    "(import|package|module).*?python",
                    "(error|exception).*?python",
                    "(log|logging).*?python"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.py",
                    "**/pyproject.toml",
                    "**/setup.py",
                    "**/setup.cfg",
                    "**/requirements*.txt",
                    "**/Pipfile",
                    "**/poetry.lock",
                    "**/.python-version",
                    "**/ruff.toml",
                    "**/.flake8",
                    "**/mypy.ini",
                    "**/pytest.ini",
                    "**/conftest.py"
                ],
                "pathExclusions": [
                    "**/__pycache__/**",
                    "**/.venv/**",
                    "**/venv/**",
                    "**/.tox/**",
                    "**/build/**",
                    "**/dist/**",
                    "**/*.egg-info/**",
                    "**/.mypy_cache/**",
                    "**/.pytest_cache/**",
                    "**/.ruff_cache/**"
                ],
                "contentPatterns": [
                    "^import ",
                    "^from .* import",
                    "^def ",
                    "^class ",
                    "^async def ",
                    "@dataclass",
                    "@pytest",
                    "if __name__",
                    "-> None:",
                    "-> bool:",
                    "-> str:",
                    "-> int:",
                    "-> list",
                    "-> dict",
                    "-> Optional",
                    "typing\\.Protocol",
                    "ABC.*metaclass",
                    "@abstractmethod",
                    "@property",
                    "@staticmethod",
                    "@classmethod",
                    "raise.*Error",
                    "logging\\.getLogger"
                ]
            }
        },
        "cpp-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "C++ development patterns and best practices",
            "promptTriggers": {
                "keywords": [
                    "c++",
                    "cpp",
                    "cmake",
                    "CMakeLists",
                    "header file",
                    "hpp",
                    "smart pointer",
                    "unique_ptr",
                    "shared_ptr",
                    "weak_ptr",
                    "RAII",
                    "template",
                    "STL",
                    "std::",
                    "googletest",
                    "gtest",
                    "catch2",
                    "memory management",
                    "move semantics",
                    "const correctness",
                    "rule of five",
                    "rule of zero",
                    "PIMPL",
                    "CRTP",
                    "SFINAE",
                    "concepts",
                    "constexpr",
                    "noexcept",
                    "nodiscard",
                    "string_view",
                    "optional",
                    "variant",
                    "span",
                    "c++ idiom",
                    "c++ style",
                    "clang-format",
                    "clang-tidy",
                    "sanitizer",
                    "asan",
                    "ubsan",
                    "valgrind",
                    "c++ virtual",
                    "c++ inheritance",
                    "c++ polymorphism",
                    "c++ constructor",
                    "c++ destructor",
                    "c++ operator",
                    "c++ lambda",
                    "c++ thread",
                    "c++ mutex",
                    "c++ atomic"
                ],
                "intentPatterns": [
                    "(create|add|implement|build|write).*?(c\\+\\+|cpp|class|header)",
                    "(how to|best practice).*?(c\\+\\+|cpp|cmake)",
                    "(compile|build|link).*?(c\\+\\+|cpp)",
                    "(memory|pointer|allocation).*?(c\\+\\+|cpp)",
                    "(template|generic).*?(c\\+\\+|cpp)",
                    "(RAII|smart pointer|unique_ptr|shared_ptr)",
                    "(move|copy).*?(constructor|semantics|assignment)",
                    "(thread|mutex|atomic|concurrent).*?(c\\+\\+|cpp)",
                    "(const|constexpr|noexcept).*?(c\\+\\+|cpp)",
                    "(virtual|override|abstract).*?(c\\+\\+|cpp)",
                    "(cmake|CMakeLists|target_link)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.cpp",
                    "**/*.hpp",
                    "**/*.h",
                    "**/*.cc",
                    "**/*.cxx",
                    "**/*.hxx",
                    "**/*.ipp",
                    "**/*.tpp",
                    "**/CMakeLists.txt",
                    "**/*.cmake",
                    "**/.clang-format",
                    "**/.clang-tidy",
                    "**/conanfile.txt",
                    "**/conanfile.py",
                    "**/vcpkg.json"
                ],
                "pathExclusions": [
                    "**/build/**",
                    "**/cmake-build-*/**",
                    "**/third_party/**",
                    "**/external/**",
                    "**/install/**",
                    "**/devel/**"
                ],
                "contentPatterns": [
                    "^#include",
                    "^namespace ",
                    "std::",
                    "class .* \\{",
                    "struct .* \\{",
                    "template.*<",
                    "unique_ptr",
                    "shared_ptr",
                    "weak_ptr",
                    "make_unique",
                    "make_shared",
                    "cmake_minimum_required",
                    "target_link_libraries",
                    "add_library",
                    "add_executable",
                    "\\[\\[nodiscard\\]\\]",
                    "constexpr",
                    "noexcept",
                    "override",
                    "virtual.*\\(",
                    "= default",
                    "= delete",
                    "std::optional",
                    "std::variant",
                    "std::string_view",
                    "std::span",
                    "std::thread",
                    "std::mutex",
                    "std::atomic"
                ]
            }
        },
        "backend-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Backend development patterns for Node.js/Express/TypeScript",
            "promptTriggers": {
                "keywords": [
                    "backend",
                    "backend development",
                    "microservice",
                    "controller",
                    "service",
                    "repository",
                    "route",
                    "routing",
                    "express",
                    "API",
                    "endpoint",
                    "middleware",
                    "validation",
                    "Zod",
                    "Prisma",
                    "database access",
                    "BaseController",
                    "dependency injection",
                    "unifiedConfig",
                    "configuration"
                ],
                "intentPatterns": [
                    "(create|add|implement|build).*?(route|endpoint|API|controller|service|repository)",
                    "(fix|handle|debug).*?(error|exception|backend)",
                    "(add|implement).*?(middleware|validation|error.*?handling)",
                    "(organize|structure|refactor).*?(backend|service|API)",
                    "(how to|best practice).*?(backend|route|controller|service)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "blog-api/src/**/*.ts",
                    "auth-service/src/**/*.ts",
                    "notifications-service/src/**/*.ts",
                    "backend/**/*.ts",
                    "api/**/*.ts",
                    "server/**/*.ts",
                    "services/**/*.ts"
                ],
                "pathExclusions": [
                    "**/*.test.ts",
                    "**/*.spec.ts"
                ],
                "contentPatterns": [
                    "router\\.",
                    "app\\.(get|post|put|delete|patch)",
                    "export.*Controller",
                    "export.*Service",
                    "prisma\\."
                ]
            }
        },
        "frontend-dev-guidelines": {
            "type": "guardrail",
            "enforcement": "block",
            "priority": "high",
            "description": "React/TypeScript best practices including MUI v7 compatibility",
            "promptTriggers": {
                "keywords": [
                    "component",
                    "react component",
                    "UI",
                    "interface",
                    "page",
                    "modal",
                    "dialog",
                    "form",
                    "MUI",
                    "Material-UI",
                    "Grid",
                    "styling",
                    "frontend",
                    "React"
                ],
                "intentPatterns": [
                    "(create|add|make|build|update|modify|edit).*?(component|UI|page|modal|dialog|form)",
                    "(how to|best practice).*?(component|react|MUI)",
                    "(style|design|layout).*?(component|UI)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "frontend/src/**/*.tsx",
                    "frontend/src/**/*.ts",
                    "client/src/**/*.tsx",
                    "client/src/**/*.ts",
                    "src/**/*.tsx"
                ],
                "pathExclusions": [
                    "**/*.test.tsx",
                    "**/*.test.ts",
                    "**/*.spec.tsx",
                    "**/*.spec.ts",
                    "**/*.styles.ts",
                    "**/vite.config.ts",
                    "**/tsconfig.json"
                ],
                "contentPatterns": [
                    "from '@mui/material';",
                    "import.*Grid.*from.*@mui",
                    "<Grid ",
                    "Grid2",
                    "Unstable_Grid",
                    "makeStyles",
                    "@material-ui/core"
                ]
            },
            "blockMessage": "BLOCKED - Frontend Best Practices Required\n\nREQUIRED ACTION:\n1. Use Skill tool: 'frontend-dev-guidelines'\n2. Review MUI v7 patterns (Grid uses size={{}} prop, NOT xs/sm props)\n3. Check React/TypeScript best practices\n4. Use proper styling patterns\n5. Then retry this edit\n\nReason: Enforce MUI v7 compatibility and React best practices\nFile: {file_path}\n\nTIP: Add '// @skip-validation' comment to skip future checks",
            "skipConditions": {
                "sessionSkillUsed": true,
                "fileMarkers": [
                    "@skip-validation"
                ],
                "envOverride": "SKIP_FRONTEND_GUIDELINES"
            }
        },
        "route-tester": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing authenticated API routes with JWT cookie-based auth",
            "promptTriggers": {
                "keywords": [
                    "test route",
                    "test endpoint",
                    "test API",
                    "route testing",
                    "API testing",
                    "authenticated route",
                    "JWT testing",
                    "cookie auth",
                    "test with auth"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?(route|endpoint|API)",
                    "(how to|how do I).*?test.*?(route|endpoint|API)",
                    "test.*?(authenticated|auth|JWT|cookie)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/routes/**/*.ts",
                    "**/test-*.js",
                    "**/test-*.ts"
                ],
                "contentPatterns": [
                    "router\\.(get|post|put|delete|patch)",
                    "app\\.(get|post|put|delete|patch)"
                ]
            }
        },
        "error-tracking": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Sentry error tracking and performance monitoring patterns",
            "promptTriggers": {
                "keywords": [
                    "error handling",
                    "exception",
                    "sentry",
                    "error tracking",
                    "captureException",
                    "monitoring",
                    "performance tracking"
                ],
                "intentPatterns": [
                    "(add|create|implement|setup).*?(error handling|sentry|error tracking)",
                    "(fix|handle|catch).*?(error|exception)",
                    "(how to|best practice).*?(error|sentry|monitoring)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/instrument.ts",
                    "**/sentry*.ts",
                    "**/*Controller.ts",
                    "**/*Service.ts"
                ],
                "contentPatterns": [
                    "@sentry",
                    "Sentry\\.",
                    "captureException",
                    "captureMessage"
                ]
            }
        },
        "design-patterns": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Software design patterns for Python and C++",
            "promptTriggers": {
                "keywords": [
                    "design pattern",
                    "factory pattern",
                    "factory method",
                    "abstract factory",
                    "builder pattern",
                    "singleton",
                    "adapter pattern",
                    "decorator pattern",
                    "facade pattern",
                    "strategy pattern",
                    "observer pattern",
                    "command pattern",
                    "state pattern",
                    "template method",
                    "chain of responsibility",
                    "composite pattern",
                    "proxy pattern",
                    "bridge pattern",
                    "prototype pattern",
                    "creational pattern",
                    "structural pattern",
                    "behavioral pattern",
                    "gang of four",
                    "GoF",
                    "publish subscribe",
                    "pub sub",
                    "dependency injection",
                    "inversion of control",
                    "loose coupling",
                    "composition over inheritance",
                    "SOLID principles",
                    "open closed principle",
                    "liskov substitution",
                    "interface segregation",
                    "dependency inversion"
                ],
                "intentPatterns": [
                    "(implement|use|apply|create).*?(factory|builder|singleton|adapter|decorator|facade|strategy|observer|command|state|composite|proxy|bridge|prototype)",
                    "(design pattern|pattern).*?(for|to|that)",
                    "(how to|best way).*?(decouple|abstract|extend|compose)",
                    "(refactor|improve).*?(using|with).*?pattern",
                    "(swap|change|replace).*?(algorithm|behavior|implementation).*?runtime",
                    "(notify|subscribe|publish).*?(event|change|update)",
                    "(undo|redo|history).*?(command|action|operation)",
                    "(state machine|finite state|state transition)",
                    "(tree structure|hierarchy|composite)",
                    "(lazy|cache|proxy|access control)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*Factory*.py",
                    "**/*Factory*.cpp",
                    "**/*Factory*.hpp",
                    "**/*Builder*.py",
                    "**/*Builder*.cpp",
                    "**/*Builder*.hpp",
                    "**/*Strategy*.py",
                    "**/*Strategy*.cpp",
                    "**/*Strategy*.hpp",
                    "**/*Observer*.py",
                    "**/*Observer*.cpp",
                    "**/*Observer*.hpp",
                    "**/patterns/**"
                ],
                "contentPatterns": [
                    "Factory",
                    "Builder",
                    "Singleton",
                    "Adapter",
                    "Decorator",
                    "Facade",
                    "Strategy",
                    "Observer",
                    "Command",
                    "State",
                    "Composite",
                    "Proxy",
                    "Bridge",
                    "Prototype",
                    "class.*Protocol",
                    "def create\\(",
                    "def build\\(",
                    "@singleton",
                    "subscribe\\(",
                    "notify\\(",
                    "execute\\(",
                    "undo\\("
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Adjust to match your project structure",
            "keywords": "Add domain-specific terms relevant to your project",
            "intentPatterns": "Use regex for flexible user intent matching"
        },
        "directory_structure": {
            "location": "All skills in .claude/skills/{skill-name}/",
            "naming": "Use descriptive hyphenated names (e.g., python-dev-guidelines, cpp-dev-guidelines)",
            "resources": "Optional resources/ subfolder for reference files"
        }
    }
}
